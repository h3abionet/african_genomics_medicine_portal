 {% extends 'mainLayout.html' %} 
PhamacogeneDrugAssoc/CFH/


{% block title %} Variant Drug Associations {% endblock %}

{% block banner %}

{% include 'partials/banner_results.html' %}

{% endblock %}

{% block content %}
<!-- Initialize DataTables -->

{% comment %} <p>Gene: {{data.gene_id}}</p>

<p>Uniprot ID: <a href="https://www.uniprot.org/uniprotkb/{{data.uniprot_ac}}/entry" target="_blank">{{data.uniprot_ac}}</a></p>

<p>Function: {{data.function}} </p> {% endcomment %}


<p><h3>Variant-Disease Associations</h3></p>
<div class="table-responsive-sm">
  <table id="example01" class="table table-striped table-bordered"> 
      <thead>
          <tr>
              <th>Variant</th>
              <th>Gene</th>
              <th>Disease</th>
              <th>Significance</th>
              <th>Region</th>
              <th>Country of Participants</th>
              <th>Study</th>
          </tr>
      </thead>
      <tbody>
         {% for my_object in object_list_d %}
          <tr>
              <td>{{my_object.variantagmp.rs_id }}
              </td>
              <td><a href="/PhamacogeneDrugAssoc/{{my_object.variantagmp.geneagmp.gene_id }}">{{my_object.variantagmp.geneagmp.gene_id }}</a>
            
              </td>
              <td>{{my_object.variantagmp.phenotypeagmp.name }}<br></td>
              <td>{{my_object.p_value}}
              </td>
              <td>{{my_object.geographical_regions}}</td>
              <td>{{my_object.country_participant}}</td>
         <td><a href="https://pubmed.ncbi.nlm.nih.gov/{{my_object.studyagmp.publication_id}}">{{my_object.studyagmp.publication_id}}</a></td>
            
             
           
             
              
          </tr>

          {% empty %}

    

          {% endfor %}  
       
         
    
    
    
      </tbody>
    </table>
    
</div>
<!-- Include required CSS and JS files -->
 

<script type="text/javascript">


$(document).ready(function() {
    function initializeTable(tableId, columnSelectId) {
        var table = $(tableId).DataTable({
            dom: 'lBfrtip',
            buttons: [
                {
                    extend: 'collection',
                    text: 'Export',
                    buttons: [
                        {
                            extend: 'copy',
                            exportOptions: {
                                columns: ':visible'
                            }
                        },
                        {
                            extend: 'excel',
                            exportOptions: {
                                columns: ':visible'
                            }
                        },
                        {
                            extend: 'csv',
                            exportOptions: {
                                columns: ':visible'
                            }
                        },
                        {
                            extend: 'pdf',
                            exportOptions: {
                                columns: ':visible'
                            }
                        }
                    ]
                },
                'colvis'
            ],
            columnDefs: [{
                targets: '_all',
                visible: true // Display all columns by default
            }]
        });

        // Create checkboxes for column selection
        table.columns().every(function(index) {
            var column = this;
            var checked = column.visible() ? 'checked' : '';
            var checkbox = $('<label><input type="checkbox" ' + checked + '>' + $(column.header()).text() + '</label>');

            // Handle checkbox click event
            checkbox.find('input').on('click', function() {
                var isChecked = this.checked;
                column.visible(isChecked);
            });

            $(columnSelectId).append(checkbox);
        });
    }

    initializeTable('#example01', '#columnSelect1');
    // initializeTable('#example3', '#columnSelect2');
});

 



 

</script>

{% endblock %}