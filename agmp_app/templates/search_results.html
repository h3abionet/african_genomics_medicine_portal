{% extends "mainLayout.html" %}
{% load static %}




{% block banner %}


{% include 'partials/banner_search.html' %}

{% endblock %}
{% block content %}


<h1>Search Results</h1>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js"></script>   
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js">   
</script><link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/ui-lightness/jquery-ui.css" rel="stylesheet" type="text/css" /> 

<!-- search_form.html -->
<!-- search_form.html -->
<form>
    <input type="radio" name="model_type" value="surname"> Surname
    <input type="radio" name="model_type" value="name"> Name

    <input type="text" id="searchInput" oninput="search()" placeholder="Search...">
</form>

<div id="searchResults"></div>

<script>

// script.js
function search() {
    const model_type = document.querySelector('input[name="model_type"]:checked').value;
    const query = document.getElementById('searchInput').value;

    fetch(`/search/${model_type}/?q=${query}`)
        .then(response => response.json())
        .then(data => {
            const resultsContainer = document.getElementById('searchResults');
            resultsContainer.innerHTML = '';

            data.forEach(result => {
                const resultElement = document.createElement('div');
                resultElement.textContent = result;
                resultsContainer.appendChild(resultElement);
            });
        });
}


</script>

{% endblock %}