{% extends "mainLayout.html" %}
{% load crispy_forms_tags %}
{% load bootstrap4 %}
{% load static %}

{% block title%}Search{% endblock %}

{% block js %}
<script src="{% static 'js/search.js' %}" type="text/JavaScript"></script>
{% endblock %}

{% comment %}
https://simpleisbetterthancomplex.com/tutorial/2018/08/13/how-to-use-bootstrap-4-forms-with-django.html
{% endcomment %}



{% block banner %}


{% include 'partials/banner_search.html' %}

{% endblock %}
{% block content %}
<style>    
    dl, ol, ul {
         margin-top: 0;
         margin-bottom: 1rem;
         list-style-type: none;
       } 
 
   li {
    display: inline-block;
    margin-right: 15px; /* add spacing between items */
  }

  #id_search_option_3 {
    list-style-image: url('static/img/bionetlogo.png');
  }
  .search_form{
    margin:auto;
    display: flex;
  justify-content: center;
  align-items: center;
 }
 </style>




<form method="post">
    {% csrf_token %}
<div class="search_form">
    {{ form.as_p }}

</div>
    <button type="submit">Search</button>
</form>
{% if search_option == "Variantagmp" %}
   
   {% for result in results %}
       <b>rs ID: </b>{{ result.rs_id}}<br>
        <b>Chromosome: </b>{{ result.geneagmp.chromosome}}<br>
        <b>Gene: </b>{{ result.geneagmp.gene_id}}<br>
        <a href="{% url 'Var_Drug_Assoc' result.rs_id %}" target="_blank">Variant-Drug Associations </a> <br>
        <a href="{% url 'Variant_Disease_Assoc' result.rs_id %}" target="_blank">Variant Disease Associations </a><br>
        
        <hr>
    
    {% endfor %} 

    {% elif search_option == "Geneagmp" %}

    {% for result in results %}
       <b>Gene </b>{{ result.gene_id}}<br>
        <b>Chromosome: </b>{{result.chromosome}}<br>
        <a href="{% url 'PhamacogeneDrugAssoc' result.gene_id %}" target="_blank">Gene Associations </a> <br><hr>
    {% endfor %}   
    {% elif search_option == "Drugagmp" %}
 {% for result in results %}
     <b></b>{{result.drug_name}}<br>
     <b>Drug Bank ID: </b><a href="https://go.drugbank.com/drugs/{{result.drug_bank_id}}" target="_blank">{{result.drug_bank_id}}</a>
     <br>
     <b>State: </b>{{result.state}}<br>
      <a href="{% url 'VariantDrugAssociation' result.drug_id %}">Variant Drug Associations</a><br> 
   <hr>
 {% endfor %}   
 {% elif search_option == "Disease" %}
 {% for result in results %}
 <b></b>{{result.phenotypeagmp.name}}<br>
 <a href="{% url 'DiseaseVariant' result.rs_id %}" target="_blank">Variant Disease Associations</a><br><hr>

{% endfor %}  



{% else  %}
    <p>No results found.</p>
{% endif %}



{% endblock %}