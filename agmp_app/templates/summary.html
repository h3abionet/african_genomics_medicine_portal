{% extends 'mainLayout.html' %}
{% load static %}
{% block title %}Summary{% endblock %}

{% block banner %}


{% include 'partials/banner_summary.html' %}

{% endblock %}



{% block content %}


{% block js%}

<style>


.graph-custom-class .nav-link {
            color: #0056b3 !important; /* Red font color for links */
        }
  




</style>




{% endblock %}

{%block css%}


{% block scripts %}



<script>
  ///graph1
  $(document).ready(function () {

    const ctx = document.getElementById('myChart01').getContext('2d');
    const myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: [{% for i in qs_drug %}'{{i.drug_name}}', {% endfor %}],
    datasets: [{
      label: 'No of Publications',
      data: [{% for i in qs_drug %}'{{i.frequency}}', {% endfor %}],
    backgroundColor: [
    'rgba(255, 99, 132, 0.2)',
    'rgba(54, 162, 235, 0.2)',
    'rgba(255, 206, 86, 0.2)',
    'rgba(75, 192, 192, 0.2)',
    'rgba(153, 102, 255, 0.2)',
    'rgba(255, 159, 64, 0.2)',
    'rgba(195, 79, 64, 5.2)',
    'rgba(285, 159, 64, 5.2)',
    'rgba(0, 128, 0, 3.2)',
    'rgba(108, 122, 137, 0.2)',
  ],
    borderColor: [
    'rgba(255, 99, 132, 1)',
    'rgba(54, 162, 235, 1)',
    'rgba(255, 206, 86, 1)',
    'rgba(75, 192, 192, 1)',
    'rgba(153, 102, 255, 1)',
    'rgba(255, 159, 64, 1)',
    'rgba(195, 79, 64, 5.2)',
    'rgba(255, 159, 64, 1)',
    'rgba(0, 128, 0, 3.2)',
    'rgba(108, 122, 137, 0.2)',
  ],
    borderWidth: 1
    }]
      },
    options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
    });



  });

  ///graph2
  $(document).ready(function () {

    const ctx = document.getElementById('myChart02').getContext('2d');
    const myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: [{% for i in qs_gene %}'{{i.gene_id | safe}}',{% endfor %}],
    datasets: [{
      label: 'No of Publications',
      data: [{% for i in qs_gene %}'{{i.frequency | safe}}', {% endfor %}],
    backgroundColor: [
    'rgba(255, 99, 132, 0.2)',
    'rgba(54, 162, 235, 0.2)',
    'rgba(255, 206, 86, 0.2)',
    'rgba(75, 192, 192, 0.2)',
    'rgba(153, 102, 255, 0.2)',
    'rgba(255, 159, 64, 0.2)',
    'rgba(195, 79, 64, 5.2)',
    'rgba(285, 159, 64, 5.2)',
    'rgba(0, 128, 0, 3.2)',
    'rgba(108, 122, 137, 0.2)',

  ],
    borderColor: [
    'rgba(255, 99, 132, 1)',
    'rgba(54, 162, 235, 1)',
    'rgba(255, 206, 86, 1)',
    'rgba(75, 192, 192, 1)',
    'rgba(153, 102, 255, 1)',
    'rgba(255, 159, 64, 1)',
    'rgba(195, 79, 64, 5.2)',
    'rgba(255, 159, 64, 1)',
    'rgba(0, 128, 0, 3.2)',
    'rgba(108, 122, 137, 0.2)',
  ],
    borderWidth: 1
    }]
      },
    options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
    });



  });


  ///graph3
  $(document).ready(function () {

    const ctx = document.getElementById('myChart03').getContext('2d');
    const myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: [{% for i in qs_variant %}'{{i.rs_id|safe}}',{% endfor %}],
    datasets: [{
      label: 'No of Publications',
      data: [{% for i in qs_variant %}'{{i.frequency|safe}}', {% endfor %}],
    backgroundColor: [
    'rgba(255, 99, 132, 0.2)',
    'rgba(54, 162, 235, 0.2)',
    'rgba(255, 206, 86, 0.2)',
    'rgba(75, 192, 192, 0.2)',
    'rgba(153, 102, 255, 0.2)',
    'rgba(255, 159, 64, 0.2)',
    'rgba(195, 79, 64, 5.2)',
    'rgba(285, 159, 64, 5.2)',
    'rgba(0, 128, 0, 3.2)',
    'rgba(108, 122, 137, 0.2)',
  ],
    borderColor: [
    'rgba(255, 99, 132, 1)',
    'rgba(54, 162, 235, 1)',
    'rgba(255, 206, 86, 1)',
    'rgba(75, 192, 192, 1)',
    'rgba(153, 102, 255, 1)',
    'rgba(255, 159, 64, 1)',
    'rgba(195, 79, 64, 5.2)',
    'rgba(255, 159, 64, 1)',
    'rgba(0, 128, 0, 3.2)',
    'rgba(108, 122, 137, 0.2)',
  ],
    borderWidth: 1
    }]
      },
    options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
    });



  });


  ///graph4
  $(document).ready(function () {

    const ctx = document.getElementById('myChart04').getContext('2d');
    const myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: [{% for i in qs_disease %}'{{i.name| safe}}',{% endfor %}],
    datasets: [{
      label: 'No of Publications',
      data: [{% for i in qs_disease %}'{{i.frequency|safe}}', {% endfor %}],
    backgroundColor: [
    'rgba(255, 99, 132, 0.2)',
    'rgba(54, 162, 235, 0.2)',
    'rgba(255, 206, 86, 0.2)',
    'rgba(75, 192, 192, 0.2)',
    'rgba(153, 102, 255, 0.2)',
    'rgba(255, 159, 64, 0.2)',
    'rgba(195, 79, 64, 5.2)',
    'rgba(285, 159, 64, 5.2)',
    'rgba(0, 128, 0, 3.2)',
    'rgba(108, 122, 137, 0.2)',
  ],
    borderColor: [
    'rgba(255, 99, 132, 1)',
    'rgba(54, 162, 235, 1)',
    'rgba(255, 206, 86, 1)',
    'rgba(75, 192, 192, 1)',
    'rgba(153, 102, 255, 1)',
    'rgba(255, 159, 64, 1)',
    'rgba(195, 79, 64, 5.2)',
    'rgba(255, 159, 64, 1)',
    'rgba(0, 128, 0, 3.2)',
    'rgba(108, 122, 137, 0.2)',
  ],
    borderWidth: 1
}]
  },
    options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
});



});
{% comment %} 

  ///graph5
  $(document).ready(function () {

    const ctx = document.getElementById('myChart05').getContext('2d');
    const myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: [{% for i in countries %} '{{i}}',{% endfor %}],
    datasets: [{
      label: 'No of Publications',
      data: [{% for i in publications %} {{ i }}, {% endfor %}],
    backgroundColor: [
    'rgba(255, 99, 132, 0.2)',
    'rgba(54, 162, 235, 0.2)',
    'rgba(255, 206, 86, 0.2)',
    'rgba(75, 192, 192, 0.2)',
    'rgba(153, 102, 255, 0.2)',
    'rgba(255, 159, 64, 0.2)',
    'rgba(195, 79, 64, 5.2)',
    'rgba(285, 159, 64, 5.2)',
    'rgba(0, 128, 0, 3.2)',
    'rgba(108, 122, 137, 0.2)',
  ],
    borderColor: [
    'rgba(255, 99, 132, 1)',
    'rgba(54, 162, 235, 1)',
    'rgba(255, 206, 86, 1)',
    'rgba(75, 192, 192, 1)',
    'rgba(153, 102, 255, 1)',
    'rgba(255, 159, 64, 1)',
    'rgba(195, 79, 64, 5.2)',
    'rgba(255, 159, 64, 1)',
    'rgba(0, 128, 0, 3.2)',
    'rgba(108, 122, 137, 0.2)',
  ],
    borderWidth: 1
}]
},
    options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
});



});

 {% endcomment %}

</script>




{% endblock %}


{% endblock %}

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>



<div class="row">
  <div class="col-md-3">
    <nav class="navigation" id="mainNav">
      <ul>
        <div class="no_style">
          <li><a class="tag-link" href="#section1">Data Overview</a></li>
          <li><a class="tag-link" href="#section2">Graphs</a></li>
          <li><a class="tag-link" href="#section3">Map</a></li>

        </div>
      </ul>
    </nav>
  </div>

  <div class="col-md-9 section1">
    <div id="section1" class="section">

      <h3 class="text-center">Data Overview</h3>
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Category</th>
            <th scope="col">Total Number</th>
          </tr>
        </thead>
        <tr>
          <td>GENES</td>
          <td>{{ gene_count | default:'0' }}</td>
        </tr>
        <tr>
          <td>DRUGS</td>
          <td>{{ drug_count | default:'0' }}</td>
        </tr>
        <tr>
          <td>DISEASES </td>
          <td>{{ disease_count | default:'0' }}</td>
        </tr>
        <tr>
          <td>VARIANTS</td>
          <td>{{ variant_count | default:'0' }}</td>
        </tr>
      </table>

    </div>

  {% comment %} graph section {% endcomment %}

<br>

<div id="section2" class="section">
  <h3 class="text-center">Graphs</h3>

  <ul id="clothing-nav" class="nav nav-tabs graph-custom-class" role="tablist">
    
    <li class="nav-item">
      <a class="nav-link active" href="#drug-graph" id="home-tab" role="tab"
        data-toggle="tab" aria-controls="home" aria-expanded="true"> Top Ten Drugs</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-link" href="#gene-graph" role="tab" id="hats-tab"
        data-toggle="tab" aria-controls="hats"> Top Ten Genes</a>
    </li>

    <li class="nav-item">
      <a class="nav-link" href="#variant-graph" role="tab" id="hats-tab01"
        data-toggle="tab" aria-controls="hats"> Top Ten Variants</a>
    </li>

    <li class="nav-item">
      <a class="nav-link" href="#disease" role="tab" id="hats-tab02"
        data-toggle="tab" aria-controls="hats">Top Ten Diseases</a>
    </li>

    
  </ul>
  


  
  <div id="clothing-nav-content" class="tab-content">
    
    <div role="tabpanel" class="tab-pane fade show active" id="drug-graph" aria-labelledby="home-tab">
      <canvas id="myChart01" width="200" height="100"></canvas>
    </div>
    
    <div role="tabpanel" class="tab-pane fade" id="gene-graph" aria-labelledby="hats-tab">
      <canvas id="myChart02" width="200" height="100"></canvas>
    </div>
    
    <div role="tabpanel" class="tab-pane fade" id="variant-graph" aria-labelledby="hats-tab01">
      <canvas id="myChart03" width="200" height="100"></canvas>
    </div>


    <div role="tabpanel" class="tab-pane fade" id="disease" aria-labelledby="hats-tab02">
      <canvas id="myChart04" width="300" height="100"></canvas>
    </div>

  </div>
 
</div> 


<div id="section3" class="section">
  <h3 class="text-center">Map</h3> 
  <div style="height: 500px;">  {{ map | safe}}</div>

</div>


<script>
// Add a click event listener to each tag link
document.addEventListener('DOMContentLoaded', function() {
  const tagLinks = document.querySelectorAll('.tag-link');
  
  tagLinks.forEach(tagLink => {
      tagLink.addEventListener('click', function(event) {
          event.preventDefault(); // Prevent the default link behavior
          
          const targetSectionId = tagLink.getAttribute('href'); // Get the target section ID
          
          // Scroll smoothly to the target section
          document.querySelector(targetSectionId).scrollIntoView({
              behavior: 'smooth'
          });
      });
  });
});

</script>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

  

  

   
  








</div>

{% endblock %}
  <script>

        
</script>




