 {% extends 'mainLayout.html' %} 
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>


</head>


{% block title %} Variant Drug Associations {% endblock %}


{% block banner %}

{% include 'partials/banner_search_results.html' %}

{% endblock %}

{% block content %}
<!-- Initialize DataTables -->

<h3>{{data.gene_id}} </h3><hr>

<p><b>Gene:</b> {{data.gene_id}}</p>

<p><b>Uniprot ID:</b> <a href="https://www.uniprot.org/uniprotkb/{{data.uniprot_ac}}/entry" target="_blank">{{data.uniprot_ac}}</a></p>

<p><b>Function:</b> {{data.function}} </p>

<p><h3>Drug Associations </h3></p>

<div class="table-responsive-sm">
<table id="example" class="table table-striped table-bordered">
  <thead>
      <tr>
          <th>Variant</th>
          <th>Gene</th> 
          <th>Drug</th>
          <th>Description</th>
          <th>Significance</th>
          <th>Region</th>
          <th>Country</th>
          <th>Study</th>
      </tr>
  </thead>
  <tbody>
 {% for my_object in object_list %}
      <tr>
          <td>{{my_object.variantagmp.rs_id }}</td>
          <td>{{my_object.variantagmp.geneagmp.gene_id}} 
            <td>
              <a href="https://www.drugbank.ca/drugs/{{ my_object.variantagmp.drugagmp.drug_bank_id }}" target="_blank">{{my_object.variantagmp.drugagmp.drug_name}}
          <td>{{my_object.variantagmp.phenotypeagmp.name}}
        </td>
          <td>{{my_object.p_value}}</td>
          <td>{{my_object.geographical_regions}}</td>
          <td>{{my_object.country_participant}}</td>
          <td><a href="https://pubmed.ncbi.nlm.nih.gov/{{my_object.studyagmp.publication_id}}" target="_blank">{{my_object.studyagmp.publication_id}}</a></td>
      </tr>
      {% endfor %}  
      <!-- ... more rows ... -->
  </tbody>
</table>

</div>

<p><h3> Disease Associations </h3></p>

<div class="table-responsive-sm">
<table id="example02" class="table table-striped table-bordered">
  <thead>
      <tr>
          <th>Variant</th>
         <th>Disease</th> 
          <th>Significance</th>
          <th>Region</th>
          <th>Country</th>
          <th>Study</th>
         
      </tr>
  </thead>
  <tbody>
 {% for my_object in object_list_diseases %}
      <tr>
          <td>{{my_object.variantagmp.rs_id }}</td>
          <td>{{my_object.variantagmp.phenotypeagmp.name}}</td>
            <td>{{my_object.p_value}}</td>
          <td>{{my_object.geographical_regions}}</td>
          <td>{{my_object.country_participant}}</td>
          <td><a href="https://pubmed.ncbi.nlm.nih.gov/{{my_object.studyagmp.publication_id}}" target="_blank">{{my_object.studyagmp.publication_id}}</a>
          </td>
  
      </tr>
      {% endfor %}  
      <!-- ... more rows ... -->
  </tbody>
</table>

</div>

<!-- Include required CSS and JS files -->


<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js"></script>
<script type="text/javascript" src=""></script>
 

<script type="text/javascript">


    $('#example').DataTable( {
        dom: 'Bfrtip',
         
          buttons: [
          'copy', 'csv', 'excel', 'pdf', 'print'
        ],
        
     } );


     $('#example02').DataTable( {
      dom: 'Bfrtip',
       
        buttons: [
        'copy', 'csv', 'excel', 'pdf', 'print'
      ],
      
   } );
  

</script>

{% endblock %}